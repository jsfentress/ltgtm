---
// Sticky CTA that appears after scrolling
---

<div 
  id="sticky-cta" 
  class="fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 shadow-lg transform translate-y-full transition-transform duration-300"
  style="display: none;"
>
  <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
    <div class="flex-1">
      <p class="text-sm font-medium text-gray-900">
        Ready to accelerate your GTM?
      </p>
      <p class="text-xs text-gray-600">
        Book a free consultation today.
      </p>
    </div>
    <div class="flex items-center gap-4">
      <a
        href="#cta-section"
        class="hero-button group inline-flex items-center justify-center gap-2 bg-gray-900 hover:bg-gray-800 text-white font-medium text-sm py-2.5 px-6 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-gray-900/20"
      >
        <span>Get Started</span>
        <svg class="w-4 h-4 transform group-hover:translate-x-0.5 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
        </svg>
      </a>
      <button
        id="dismiss-cta"
        class="text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-400 rounded p-1"
        aria-label="Dismiss"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
  </div>
</div>

<script>
  (function() {
    const stickyCTA = document.getElementById('sticky-cta');
    const dismissBtn = document.getElementById('dismiss-cta');
    
    if (!stickyCTA || !dismissBtn) return;
    
    // Check if user has dismissed before
    const dismissed = localStorage.getItem('sticky-cta-dismissed');
    if (dismissed) return;
    
    let shown = false;
    
    function checkScroll() {
      const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
      
      if (scrollPercent > 30 && !shown) {
        stickyCTA.style.display = 'block';
        setTimeout(() => {
          stickyCTA.classList.remove('translate-y-full');
        }, 10);
        shown = true;
      }
    }
    
    // Ultra-optimized scroll handler
    let rafId = null;
    window.addEventListener('scroll', () => {
      if (rafId === null) {
        rafId = requestAnimationFrame(() => {
          checkScroll();
          rafId = null;
        });
      }
    }, { passive: true });
    
    // Dismiss handler
    dismissBtn.addEventListener('click', () => {
      stickyCTA.classList.add('translate-y-full');
      setTimeout(() => {
        stickyCTA.style.display = 'none';
      }, 300);
      localStorage.setItem('sticky-cta-dismissed', 'true');
    });
  })();
</script>

