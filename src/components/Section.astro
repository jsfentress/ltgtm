---
// Section Component - Brutalist Design
// Handles both regular and inverted (black bg) sections

import type { CollectionEntry } from 'astro:content';

interface Props {
  section: CollectionEntry<'sections'>;
}

const { section } = Astro.props;
const { data, render } = section;

const sectionId = `section-${data.order}`;
const isInverted = data.inverted || false;

// Render the MDX content
const { Content } = await render();
---

<section
  id={sectionId}
  data-section
  class={`py-24 px-6 ${isInverted ? 'bg-black text-white' : 'bg-white text-black'} ${data.border !== false ? 'border-b border-black' : ''}`}
>
  <div class={`${data.maxWidth || 'max-w-4xl'} mx-auto`}>
    {data.label && (
      <span class={`uppercase tracking-widest text-sm font-bold pb-1 mb-6 inline-block ${isInverted ? 'border-b border-white' : 'border-b-2 border-black'}`}>
        {data.label}
      </span>
    )}

    {data.title && (
      <h2 class="text-3xl md:text-5xl font-bold leading-tight" style="margin-bottom: 3rem;">
        <Fragment set:html={data.title} />
      </h2>
    )}

    {data.subtitle && (
      <p class={`text-xl md:text-2xl mb-12 ${isInverted ? 'text-gray-300' : 'text-gray-800'}`}>
        <Fragment set:html={data.subtitle} />
      </p>
    )}

    <div class="prose max-w-none">
      <Content />
    </div>
  </div>
</section>
